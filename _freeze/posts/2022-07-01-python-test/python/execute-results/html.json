{
  "hash": "f242939b19386e233e5aaa8575901887",
  "result": {
    "markdown": "---\ntitle: \"reticulate\"\ndescription: |\n  reticulate vscode 세팅\nauthor: \"Don Don\"\ndate: \"2022-07-01\"\ncategories: [R, python]\n---\n\n\n## reticulate 소개 \n\n**reticulate** 패키지는 R에서 python을 사용하고 싶을 때 이용할 수 있는 패키지이다. vscode에서 quarto를 이용할 때, 가상환경을 적절하게 세팅하면 각 qmd 파일 별로 R, python을 적절하게 사용할 수 있지만 R, python을 한 qmd에서 동시에 사용할 수는 없다. 동시에 사용하고 싶을 경우 **reticulate** 패키지를 이용하면 된다. \n\n# R example \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gt)\nlibrary(reticulate)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\niris %>% head() %>% gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"jojhnrryaa\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#jojhnrryaa .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jojhnrryaa .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jojhnrryaa .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jojhnrryaa .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jojhnrryaa .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jojhnrryaa .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jojhnrryaa .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jojhnrryaa .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jojhnrryaa .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jojhnrryaa .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jojhnrryaa .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jojhnrryaa .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jojhnrryaa .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jojhnrryaa .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jojhnrryaa .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jojhnrryaa .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jojhnrryaa .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jojhnrryaa .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jojhnrryaa .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jojhnrryaa .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jojhnrryaa .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jojhnrryaa .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jojhnrryaa .gt_left {\n  text-align: left;\n}\n\n#jojhnrryaa .gt_center {\n  text-align: center;\n}\n\n#jojhnrryaa .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jojhnrryaa .gt_font_normal {\n  font-weight: normal;\n}\n\n#jojhnrryaa .gt_font_bold {\n  font-weight: bold;\n}\n\n#jojhnrryaa .gt_font_italic {\n  font-style: italic;\n}\n\n#jojhnrryaa .gt_super {\n  font-size: 65%;\n}\n\n#jojhnrryaa .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#jojhnrryaa .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#jojhnrryaa .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jojhnrryaa .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#jojhnrryaa .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#jojhnrryaa .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\">Sepal.Length</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\">Sepal.Width</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\">Petal.Length</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\">Petal.Width</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\">Species</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">5.1</td>\n<td class=\"gt_row gt_right\">3.5</td>\n<td class=\"gt_row gt_right\">1.4</td>\n<td class=\"gt_row gt_right\">0.2</td>\n<td class=\"gt_row gt_center\">setosa</td></tr>\n    <tr><td class=\"gt_row gt_right\">4.9</td>\n<td class=\"gt_row gt_right\">3.0</td>\n<td class=\"gt_row gt_right\">1.4</td>\n<td class=\"gt_row gt_right\">0.2</td>\n<td class=\"gt_row gt_center\">setosa</td></tr>\n    <tr><td class=\"gt_row gt_right\">4.7</td>\n<td class=\"gt_row gt_right\">3.2</td>\n<td class=\"gt_row gt_right\">1.3</td>\n<td class=\"gt_row gt_right\">0.2</td>\n<td class=\"gt_row gt_center\">setosa</td></tr>\n    <tr><td class=\"gt_row gt_right\">4.6</td>\n<td class=\"gt_row gt_right\">3.1</td>\n<td class=\"gt_row gt_right\">1.5</td>\n<td class=\"gt_row gt_right\">0.2</td>\n<td class=\"gt_row gt_center\">setosa</td></tr>\n    <tr><td class=\"gt_row gt_right\">5.0</td>\n<td class=\"gt_row gt_right\">3.6</td>\n<td class=\"gt_row gt_right\">1.4</td>\n<td class=\"gt_row gt_right\">0.2</td>\n<td class=\"gt_row gt_center\">setosa</td></tr>\n    <tr><td class=\"gt_row gt_right\">5.4</td>\n<td class=\"gt_row gt_right\">3.9</td>\n<td class=\"gt_row gt_right\">1.7</td>\n<td class=\"gt_row gt_right\">0.4</td>\n<td class=\"gt_row gt_center\">setosa</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n\n## reticulate \n\nreticulate를 이용할 때는 가상환경을 만들고, 해당 가상환경을 연결해서 사용하는 것이 바람직하다. 나는 pytorch-test 폴더에 가상환경 env를 만들고, reticulate 패키지와 연결할 가상환경의 path를 맞춰주었다. 이 작업을 안할 경우 error가 난다;;  \n\n::: {.cell}\n\n```{.r .cell-code}\nSys.setenv(RETICULATE_PYTHON=\"/Users/sangdon/pytorch-test/env/bin/python\")\nreticulate::use_condaenv(condaenv = 'env')\n```\n:::\n\n\n\n## python example \n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd \nimport numpy as np \nimport torch\n\nimport networkx as nx\nimport matplotlib.pyplot as plt\nfrom torch_geometric.data import Data\nimport torch_geometric\nfrom sklearn.datasets import load_iris\n```\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\niris = load_iris()\ndf = pd.DataFrame(iris.data, columns=iris.feature_names)\ndf.head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   sepal length (cm)  sepal width (cm)  petal length (cm)  petal width (cm)\n0                5.1               3.5                1.4               0.2\n1                4.9               3.0                1.4               0.2\n2                4.7               3.2                1.3               0.2\n3                4.6               3.1                1.5               0.2\n4                5.0               3.6                1.4               0.2\n```\n:::\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\nG = nx.star_graph(20)\npos = nx.spring_layout(G, seed=63)  # Seed layout for reproducibility\ncolors = range(20)\noptions = {\n    \"node_color\": \"#A0CBE2\",\n    \"edge_color\": colors,\n    \"width\": 4,\n    \"edge_cmap\": plt.cm.Blues,\n    \"with_labels\": False,\n}\nnx.draw(G, pos, **options)\nplt.show()\n```\n\n::: {.cell-output-display}\n![](python_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## 참고 \n\n<https://rstudio.github.io/reticulate/articles/versions.html#providing-hints-1>\n\n<https://stackoverflow.com/questions/59842256/specify-reticulate-python-path-in-reticulate-python-environment-variable>",
    "supporting": [
      "python_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}